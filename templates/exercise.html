<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<title>Exercise</title>
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<script src="js/vue.js" type="text/javascript" charset="utf-8"></script>
		<script src="js/echarts.js" type="text/javascript" charset="utf-8"></script>
		<script src="js/jquery-3.3.1.min.js"></script>
		
		<script src="https://unpkg.com/element-ui/lib/index.js"></script>
		<link rel="stylesheet" href="https://unpkg.com/element-ui/lib/theme-chalk/index.css">
		<link rel="stylesheet" type="text/css" media="screen"
			href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" />

		<style>
			.main {
				width: 600px;
				/* height: 300px; */
				/* background-color: grey; */
				display: block;
				text-align: center;
				margin-top: 5%;
				margin-left: 30%;
				font-family: "bodoni mt black";
			}

			.tip {
				color: #409EFF;
				font-family: "arial black";
			}

			.select {
				width: 500px;
				display: inline-block;
			}

			.cardio {
				width: 300px;
				margin-top: 20px;
			}

			.weight {
				width: 300px;
				margin-top: 20px;
			}

			.save {
				margin-top: 10px;
			}

			#pie {
				display: inline-block;
				margin-top: 50px;
				width: 600px;
				height: 100px;
				background-color: #fff;
			}

			.first {
				width: 200px;
			}

			.el-dropdown {
				vertical-align: top;
			}

			.el-dropdown+.el-dropdown {
				margin-left: 15px;
			}

			.el-icon-arrow-down {
				font-size: 12px;
			}

			.el-dropdown-item {
				width: 200px;
			}
		</style>

	</head>
	<body style="position: relative; min-height: 100vh; background: linear-gradient(#81DDF3, #A7E9F8, white);">
		<nav class="navbar navbar-inverse" style="margin-bottom:0px;">
			<div class="container">
				<div class="navbar-header">
					<a class="navbar-brand" href="/userHomepage" style="font-size: 20px">OneFit</a>
				</div>
				<div style="font-size: 17px; float: right">
					<ul class="nav navbar-nav">
						<li><a href="/health">Health</a></li>
						<li><a href="/exercise">Exercise</a></li>
						<li><a href="/nutrition">Nutrition</a></li>
						<li><a href="/goals">Goals</a></li>
						<li><a href="/userAccount">Account</a></li>
						<li><a href="/logout">Logout</a></li>
					</ul>
				</div>
			</div>
		</nav>

		<div class="main">
			<div id="app">
				<h1 class="tip">Enter Your Workout Data</h1>
				<br>
				<el-select v-model="select" slot="prepend" placeholder="Select type of exercise" class='select'>
					<el-option label="miles run" value="miles run"></el-option>
					<el-option label="weight lifted" value="weight lifted"></el-option>
					<el-option label="cardio" value="cardio"></el-option>
				</el-select>
				<el-input v-model="input_cardio" placeholder="Enter cardio" class="cardio"></el-input>
				<el-input v-model="input_weights" placeholder="Enter weights" class="weight"></el-input>
				<el-input v-model="input_goal" placeholder="Enter the new goal" class="weight"></el-input>
				<br>
				<el-button type="primary" round class="save" @click="click()">SAVE</el-button>
				<div id="pie">

				</div>

				<!-- 				<br>
				select：{{select}}
				<br>
				input_cardio：{{input_cardio}}
				<br>
				input_weights：{{input_weights}} -->
			</div>
		</div>

		<script>
			new Vue({
				el: '#app',
				data: {
					select: '',
					input_cardio: '',
					input_weights: '',
					input_goal: ''
				},
				methods:{
					click(){
						if(this.select==""){
							window.alert("not selectexercise")
							return
						}
						if(this.input_cardio==""){
							window.alert("cardio not insert")
							return
						}
						if(this.input_weights==""){
							window.alert("weights not insert")
							return
						}		
						$.post('http://127.0.0.1:5000/getGoal',{"select":this.select,"input_cardio":this.input_cardio,"input_weights":this.input_weights,"input_goal":this.input_goal} ,function(data) {
							// window.alert(data.datas)
							left_topChart.hideLoading();  // hide   loading
							left_topChart.setOption({
								tooltip: {
									trigger: 'axis',
									axisPointer: {
										type: 'shadow'
									}
								},
								grid: {
									left: '3%',
									right: '4%',
									top: '5%',
									bottom: '3%',
									containLabel: true
								},
								xAxis: {
									type: 'value',
									boundaryGap: [0, 0.01]
								},
								yAxis: {
									type: 'category',
									data: ['cardio', 'goal']
								},
								series: [{
										type: 'bar',
										data: data.datas
									}
								]
							})
						}, 'json');
					}
				}
			})
			var left_topChart = echarts.init(document.getElementById('pie'));
			// left_topChart.showLoading({
			// 		text:'Loading',
			// 		maskColor:'rgba(0,0,0,0)',
			// 		color:'rgb(73,163,254)',
			// 		textColor:'rgb(73,163,254)',
			// 		lineWidth: 5,
			// 		fontSize: 16,
			// 		spinnerRadius: 15,
			// 	});
			$.post('http://127.0.0.1:5000/getGoal',{"select":this.select,"input_cardio":this.input_cardio,"input_weights":this.input_weights,"input_goal":this.input_goal} ,function(data) {
				// window.alert(data.datas)
				left_topChart.hideLoading();  // hide loding    
				left_topChart.setOption({
					tooltip: {
						trigger: 'axis',
						axisPointer: {
							type: 'shadow'
						}
					},
					grid: {
						left: '3%',
						right: '4%',
						top: '5%',
						bottom: '3%',
						containLabel: true
					},
					xAxis: {
						type: 'value',
						boundaryGap: [0, 0.01]
					},
					yAxis: {
						type: 'category',
						data: ['cardio', 'goal']
					},
					series: [{
							type: 'bar',
							data: data.datas
						}
					]
				})
			}, 'json');
			
		</script>

		<footer style="background-color : #101010; height: 40px; position : absolute; bottom: 0; width: 100%">
			<p style="text-align: center; font-size: 20px; color: gray;">OneFit</p>
		</footer>
	</body>
</html>
