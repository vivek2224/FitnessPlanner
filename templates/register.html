
<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>Register</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link
      rel="stylesheet"
      type="text/css"
      media="screen"
      href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"
    />
    <style>
      .container{
        margin: 0 auto;
        height: 100%;
        width: 100%;
     }
    </style>
  </head>
  <body style = "position: relative; min-height: 122vh; background: linear-gradient(#D9E5F2, #AAF3EC) ">
    <!--nav bar at the top of the page for going back to front page-->
    <nav class="navbar navbar-inverse" style = "margin-bottom:0px;">
      <div class="container">
        <div class="navbar-header">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="/" style = "font-size: 20px" >OneFit</a>
        </div>
      </div>
    </nav>
    <!--Form for user register-->
    <div class="container" style = "position: absolute; margin-left: 30%; margin-right: 30%; padding: 0px; background-color: white; width:40%; height: 90%;">
        <div style = "padding-left: 10%; padding-right: 10%; padding-top: 15px">
         <h3> <b>Register</b></h3>
          <form action="/register" method="POST">
            <div class="form-group">
              <label>Name: <b style = "color:red"> *</b></label>
              <input type="text" class="form-control" name="name" />
            </div>
            <div class="form-group">
              <label>Gender:<b style = "color:red"> *</b></label>
                <select class="form-control" name="gendercategory">
                 <option value="10">Select Gender</option>
                 <option value="1">Female</option>
                 <option value="2">Male</option>
                </select>
            </div>
            <div class="form-group">
              <label>Birth Date:<b style = "color:red"> *</b></label>
              <input type="date" class="form-control" name="bday" />
            </div>
            <div class="form-group">
              <label>Email: <b style = "color:red"> *</b></label>
              <input type="text" class="form-control" name="email" placeholder="Enter N/A if you are a nutritionist" />
            </div>
            <div class="form-group">
              <label>Password: <b style = "color:red"> *</b></label>
              <input type="password" class="form-control" style = "width: 100%;" name="password" />
            </div>
            <div class="form-group">
              <label>Nutritionist Email: <b style = "color:red"> *</b></label>
              <input type="nutritionistEmail" class="form-control" style = "width: 100%;" name="nutritionistEmail" placeholder="Enter N/A if you are a normal user" />
            </div>
            <div class="form-group">
              <button type = "button" class="btn btn-primary" style = "width: 40%; margin-right: 5%" onclick = "redirect()">Cancel</button>
              <button type="submit" class="btn btn-primary" style = "width: 50%">Register</button>
            </div>
              <p id=message style = "font-size: 15px; color: red"> {{message}} </p>
          </form>
        </div>
        <p id="email" style = "display:none">{{email}}</p>
        <p id="gender"style = "display:none">{{gender}}</p>
        <p id="name" style = "display:none">{{name}}</p>
        <p id="nutritionistEmail" style = "display:none">{{nutritionistEmail}}</p>
    </div>
    <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
  <script>
      // Prevent form resubmission
      if (history.replaceState) {
        history.replaceState(null, null, location.href);
      }

      // Handle cancel button
      function redirect(){
        location.replace("/");
      }

    document.getElementsByName("email")[0].value = document.getElementById("email").innerHTML;
    document.getElementsByName("gender")[0].value = document.getElementById("gender").innerHTML;
    document.getElementsByName("age")[0].value = document.getElementById("age").innerHTML;
    document.getElementsByName("name")[0].value = document.getElementById("name").innerHTML;
    document.getElementsByName("nutritionistEmail")[0].value = document.getElementById("nutritionistEmail").innerHTML;
  </script>
  </body>
  <footer style = "background-color : #101010; height: 40px; position : fixed; bottom: 0; width: 100%">
    <p style = "text-align: center; font-size: 20px; color: gray;">OneFit</p>
  </footer>
</html>